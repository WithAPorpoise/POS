#pragma once

#include <POS/UI/Button/AImageButton.hpp>

namespace pos::ui::button {

///////////////////////////////////////////////////////////////////////////
/// \brief Simplifies the usage of a Qt button with an image
/// \ingroup ecs
///
/// \include CustomImage.hpp <POS/UI/Button/CustomImage.hpp>
///
///////////////////////////////////////////////////////////////////////////
class CustomImage
    : public ::pos::ui::AImageButton
{

public:

    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////
    // Constructors
    //
    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////

    ///////////////////////////////////////////////////////////////////////////
    /// \brief Constructor
    ///
    /// The filename is searched within the ./assets/ directory
    ///
    ///////////////////////////////////////////////////////////////////////////
    explicit CustomImage(
        ::QMainWindow& window,
        const ::std::string& filepath,
        ::std::size_t xPos,
        ::std::size_t yPos,
        ::std::size_t xSize,
        ::std::size_t ySize,
        ::std::function<void()> callback
    ) noexcept;

    ///////////////////////////////////////////////////////////////////////////
    /// \brief Constructor with tooltip
    ///
    /// The filename is searched within the ./assets/icon directory
    ///
    ///////////////////////////////////////////////////////////////////////////
    explicit CustomImage(
        ::QMainWindow& window,
        const ::std::string& filepath,
        const ::std::string& tooltip,
        ::std::size_t xPos,
        ::std::size_t yPos,
        ::std::size_t xSize,
        ::std::size_t ySize,
        ::std::function<void()> callback
    ) noexcept;



    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////
    // Override
    //
    ///////////////////////////////////////////////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////

    ///////////////////////////////////////////////////////////////////////////
    /// \brief Behavior on button click
    ///
    /// Remove the selected row
    ///
    ///////////////////////////////////////////////////////////////////////////
    auto hitButton(
        const QPoint &pos
    ) const
        -> bool override;



private:

    ::QMainWindow& m_window;
    ::std::function<void()> m_callback;

};

} // namespace pos::ui::button
