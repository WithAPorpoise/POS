///////////////////////////////////////////////////////////////////////////
// Precompilled headers
///////////////////////////////////////////////////////////////////////////
#include <pch.hpp>

///////////////////////////////////////////////////////////////////////////
// Headers
///////////////////////////////////////////////////////////////////////////
#include <POS/UI/Window.hpp>



///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////
// Constructors
//
///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
::pos::ui::Window::Window(
    int argc,
    char *argv[],
    ::std::size_t xSize,
    ::std::size_t ySize,
    const ::std::string& name
) noexcept
    : ::QApplication{ argc, argv }
{
    m_window.setWindowTitle(::QApplication::translate("toplevel", name.c_str()));
    this->resize(xSize, ySize);
    m_window.show();
}



///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////
// Helpers
//
///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
///
///////////////////////////////////////////////////////////////////////////
void ::pos::ui::Window::resize(
    ::std::size_t xSize,
    ::std::size_t ySize
)
{
    m_xSize = xSize;
    m_ySize = ySize;
    m_window.resize(static_cast<int>(m_xSize), static_cast<int>(m_ySize));
}

///////////////////////////////////////////////////////////////////////////
///
///////////////////////////////////////////////////////////////////////////
auto ::pos::ui::Window::get()
    -> ::QMainWindow&
{
    return m_window;
}

///////////////////////////////////////////////////////////////////////////
///
///////////////////////////////////////////////////////////////////////////
auto ::pos::ui::Window::getSize() const
    -> ::QSize
{
    return m_window.size();
}
