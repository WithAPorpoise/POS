///////////////////////////////////////////////////////////////////////////
// Precompilled headers
///////////////////////////////////////////////////////////////////////////
#include <pch.hpp>

///////////////////////////////////////////////////////////////////////////
// Headers
///////////////////////////////////////////////////////////////////////////
#include <POS/UI/ErrorNotification.hpp>



///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////
// Constructors
//
///////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////
::pos::ui::ErrorNotification::ErrorNotification(
    ::QMainWindow& window,
    const ::std::string& text
) noexcept
    : ::QMessageBox{ &window }
{
    this->setText(text.c_str());
    this->setWindowFlags(this->windowFlags() | ::Qt::WindowStaysOnTopHint);
    this->setStyleSheet(
        "background-color: #FFFFFF; "
        "color:rgb(255,0,0); "
        "font-size: 15px; "
        "QMessageBox { border-color: rgb(0, 0, 0); "
        "border-style: none; "
        "border-width: 0px; }"
    );
    this->setModal(false);
    this->setStandardButtons(::QMessageBox::StandardButton::NoButton);
    this->show();
    ::QTimer::singleShot(1500, this, SLOT(hide()));
    window.setFocus();
}
